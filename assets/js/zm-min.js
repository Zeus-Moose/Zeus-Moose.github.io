body.classList.remove("noscript"),Array.from(document.querySelectorAll(".message")).forEach(e=>{e.addEventListener("click",()=>{e.style.display="none"})}),Array.from(document.getElementsByClassName("svg")).forEach(e=>{fetch(e.src).then(e=>e.text()).then(t=>{e.outerHTML=t,e.classList.add("svg-loaded")})}),Array.from(document.getElementsByClassName("zeus-moose-hr")).forEach(e=>{fetch(baseRoot+"/assets/img/zeus_moose_looking.svg").then(e=>e.text()).then(t=>{e.innerHTML=t,e.classList.add("svg-loaded")})});let blinkTimeout,hashTagActive="",menuItems=document.querySelector("body.portfolio nav#main .scroll");menuItems&&menuItems.addEventListener("click",e=>{console.log(e.target.hash),hashTagActive!==e.target.hash&&document.querySelector(e.target.hash)&&(event.preventDefault(),document.querySelector(e.target.hash).scrollIntoView({behavior:"smooth"}),hashTagActive=this.hash)});let whoBlinked="zeus";function blink(){let e=Math.round(6e3*Math.random())+3e3;blinkTimeout=setTimeout(function(){"moose"===whoBlinked?(body.classList.remove("blink-moose"),body.classList.add("blink-zeus"),whoBlinked="zeus"):(body.classList.add("blink-moose"),body.classList.remove("blink-zeus"),whoBlinked="moose"),blink()},e)}var menuTimer;blink(),Array.from(document.querySelectorAll(".mobile-menu-toggle")).forEach(e=>{var t=document.getElementById(e.dataset.menu);e.addEventListener("click",()=>{t.addEventListener("mouseleave",()=>{clearTimeout(menuTimer),menuTimer=setTimeout(function(){t.classList.remove("show")},500)}),t.addEventListener("mouseenter",()=>{clearTimeout(menuTimer)}),t.classList.toggle("show")}),e.addEventListener("mouseleave",()=>{clearTimeout(menuTimer),menuTimer=setTimeout(function(){t.classList.remove("show")},500)}),e.addEventListener("mouseenter",()=>{clearTimeout(menuTimer)})});let homepageVideos=[],curVideo=-0;function playNext(){++curVideo>=homepageVideos.length&&(curVideo=0),homepageVideos[curVideo].play()}function pauseAll(){homepageVideos.forEach(function(e,t){e.pause()})}Array.from(document.querySelectorAll(".mini_block .section_image > video")).forEach((e,t)=>{homepageVideos[t]=e;let o=e.parentNode.parentNode,s=o.getElementsByClassName("intro")[0];e.addEventListener("ended",()=>{e.currentTime=0,o.classList.contains("active-video")?e.play():playNext()}),e.parentNode.parentNode.addEventListener("mouseenter",()=>{s.style.height=s.scrollHeight+"px",o.classList.add("active-video"),curVideo=t-1,pauseAll(),playNext()}),e.parentNode.parentNode.addEventListener("mouseleave",()=>{s.style.height="0px",o.classList.remove("active-video")})}),curVideo=homepageVideos.length,homepageVideos.length&&playNext(),document.addEventListener("DOMContentLoaded",()=>{let e=document.createElement("div");e.id="modalWrapper";let t=document.createElement("div");t.classList.add("modal"),e.appendChild(t),body.appendChild(e),e.addEventListener("click",()=>{e.classList.remove("modalOpen")}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.remove("modalOpen")}),Array.from(document.querySelectorAll(".gallery a")).forEach(o=>{o.addEventListener("click",s=>{s.preventDefault();let n=document.createElement("img");n.src=o.href;let a=document.createElement("p");a.innerText=o.title,t.innerHTML="",t.appendChild(n),t.appendChild(a),e.classList.add("modalOpen")})})});