import{m as d,o as p,b as _,d as i,t as l,f as u,k as f,p as m,_ as h}from"./BX7Fv1bU.js";import{u as v}from"./B5U6o-cP.js";const C=function(){let t=[],s=0;Array.from(document.querySelectorAll(".mini_block .section_image > video")).forEach((e,a)=>{t[a]=e;const n=e.parentNode.parentNode,r=n.getElementsByClassName("intro")[0];e.addEventListener("ended",()=>{e.play(),e.pause(),e.currentTime=0,n.classList.contains("active-video")?e.play():o()}),e.parentNode.parentNode.addEventListener("mouseenter",()=>{r.style.height=r.scrollHeight+"px",n.classList.add("active-video"),s=a-1,c(),o()}),e.parentNode.parentNode.addEventListener("mouseleave",()=>{r.style.height="0px",n.classList.remove("active-video")})}),s=t.length,t.length&&o();function o(){s++,s>=t.length&&(s=0),isNaN(t[s].duration)&&s++,t[s].play()}function c(){t.forEach(function(e,a){e.pause()})}},g={props:["portfolio","preload"],computed:{cardSize(){return this.portfolio.card_size??""},poster(){return v()(`/assets/images/covers/${this.portfolio.thumbnail}`,{format:"webp"})}}},b={class:"section_image"},y=["poster"],N=["src"],k=["src"],L=["innerHTML"],x={class:"intro"},E={class:"sr-only"};function w(t,s,o,c,e,a){const n=h;return p(),_("article",{class:m(["block block_link mini_block",a.cardSize])},[i("div",b,[i("video",{muted:"true",poster:`/assets/images/covers/${o.portfolio.thumbnail}`},[i("source",{type:"video/webm",src:`/assets/videos/${o.portfolio.video_thumb}`},null,8,N),i("source",{type:"video/mp4",src:`/assets/videos/${o.portfolio.video_thumb.replace(".webm",".mp4")}`},null,8,k)],8,y),i("h2",{innerHTML:o.portfolio.title},null,8,L),i("div",x,[i("p",null,l(o.portfolio.description),1)])]),u(n,{class:"section_image_link",to:o.portfolio._path},{default:f(()=>[i("span",E,"More info about "+l(o.portfolio.title),1)]),_:1},8,["to"])],2)}const S=d(g,[["render",w]]);export{S as P,C as v};
