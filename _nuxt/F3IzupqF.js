import{l as d,o as _,a as p,b as i,t as l,e as u,j as m,n as f,_ as h}from"./B8pP3L-J.js";import{u as v}from"./QHQIYePI.js";const C=function(){let t=[],s=0;Array.from(document.querySelectorAll(".mini_block .section_image > video")).forEach((o,n)=>{t[n]=o;const a=o.parentNode.parentNode,r=a.getElementsByClassName("intro")[0];o.addEventListener("ended",()=>{o.currentTime=0,a.classList.contains("active-video")?o.play():e()}),o.parentNode.parentNode.addEventListener("mouseenter",()=>{r.style.height=r.scrollHeight+"px",a.classList.add("active-video"),s=n-1,c(),e()}),o.parentNode.parentNode.addEventListener("mouseleave",()=>{r.style.height="0px",a.classList.remove("active-video")})}),s=t.length,t.length&&e();function e(){s++,s>=t.length&&(s=0),isNaN(t[s].duration)&&s++,t[s].play()}function c(){t.forEach(function(o,n){o.pause()})}},g={props:["portfolio","preload"],computed:{cardSize(){return this.portfolio.card_size??""},poster(){return v()(`/assets/images/covers/${this.portfolio.thumbnail}`,{format:"webp"})}}},y={class:"section_image"},b=["autoplay","poster"],N=["src"],L=["src"],k=["innerHTML"],x={class:"intro"},E={class:"sr-only"};function w(t,s,e,c,o,n){const a=h;return _(),p("article",{class:f(["block block_link mini_block",n.cardSize])},[i("div",y,[i("video",{muted:"true",autoplay:e.preload,poster:`/assets/images/covers/${e.portfolio.thumbnail}`},[i("source",{type:"video/webm",src:`/assets/videos/${e.portfolio.video_thumb}`},null,8,N),i("source",{type:"video/mp4",src:`/assets/videos/${e.portfolio.video_thumb.replace(".webm",".mp4")}`},null,8,L)],8,b),i("h2",{innerHTML:e.portfolio.title},null,8,k),i("div",x,[i("p",null,l(e.portfolio.description),1)])]),u(a,{class:"section_image_link",to:e.portfolio._path},{default:m(()=>[i("span",E,"More info about "+l(e.portfolio.title),1)]),_:1},8,["to"])],2)}const S=d(g,[["render",w]]);export{S as P,C as v};
